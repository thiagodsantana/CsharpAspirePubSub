
---

## ğŸš¦ **1. AutenticaÃ§Ã£o e SeguranÃ§a**

### â“**Devemos utilizar Application Default Credentials (ADC) em produÃ§Ã£o?**
- Em dev/local Ã© Ã³timo, mas em produÃ§Ã£o talvez devamos usar [Workload Identity Federation](https://cloud.google.com/iam/docs/workload-identity-federation) ou o `GoogleCredential.FromJson()` com segredos seguros via `Secret Manager`, `Azure Key Vault`, etc.
  
---

## ğŸ”„ **2. Modo de processamento das mensagens**

### â“**DeverÃ­amos usar o modelo push ou pull para o Pub/Sub?**
- Atualmente estÃ¡ sendo usado o **pull com SubscriberClient**.
- Push pode simplificar a entrega (ex: webhook HTTP), mas perde controle fino de fluxo e retry.

### â“**Precisamos de controle de concorrÃªncia ou paralelismo no SubscriberClient?**
- Por padrÃ£o, ele processa mensagens em paralelo, mas podemos limitar via `FlowControlSettings`.
- Ideal se for necessÃ¡rio garantir ordem ou limitar consumo de recursos.

---

## ğŸ’¥ **3. Garantia de entrega e tolerÃ¢ncia a falhas**

### â“**Como garantimos que uma mensagem nÃ£o serÃ¡ perdida se o processamento falhar?**
- Atualmente usamos `Ack`/`Nack`. Mas e se o worker crashar no meio?
- Podemos discutir uso de **Dead Letter Topics (DLT)** para falhas permanentes.
- E tambÃ©m idempotÃªncia do processamento (evitar duplicatas no banco).

---

## ğŸ“ˆ **4. Monitoramento e observabilidade**

### â“**Como vamos monitorar o fluxo de mensagens, taxa de erro, latÃªncia etc.?**
- Cloud Pub/Sub fornece mÃ©tricas nativas, mas como trazemos isso para nosso observability stack (OpenTelemetry? Aspire? Prometheus/Grafana?).
- ImportÃ¢ncia de tracing distribuÃ­do se o fluxo for expandido (ex: API â†’ PubSub â†’ Worker â†’ DB).

---

## ğŸ§° **5. Versionamento de mensagens**

### â“**Como versionar e evoluir o formato das mensagens JSON com seguranÃ§a?**
- Se a estrutura de `SolicitacaoEmprestimo` mudar?
- Devemos adotar envelopamento com metadados? Usar Protobuf ao invÃ©s de JSON?

---

## ğŸ“¦ **6. Estrutura de tÃ³picos e projetos GCP**

### â“**Vale a pena usar um tÃ³pico por tipo de mensagem ou centralizar tudo em um tÃ³pico sÃ³ com filtragem?**
- Pode-se usar atributos nas mensagens para routing.
- SeparaÃ§Ã£o de tÃ³picos ajuda no isolamento e escalabilidade.

### â“**Vamos manter produÃ§Ã£o e homologaÃ§Ã£o em projetos GCP separados ou apenas tÃ³picos distintos?**

---

## ğŸ” **7. Controle de acesso (IAM)**

### â“**Devemos criar contas de serviÃ§o especÃ­ficas por serviÃ§o ou compartilhar uma sÃ³ com vÃ¡rias permissÃµes?**
- Menor privilÃ©gio Ã© ideal, mas adiciona complexidade.

---

## âš™ï¸ **8. Retry e backoff**

### â“**Como estamos lidando com mensagens que falham? Tem polÃ­tica de retry com backoff configurada?**
- SubscriberClient tem reentregas automÃ¡ticas, mas com limites.

---

## ğŸ› ï¸ **9. IntegraÃ§Ã£o com outros sistemas**

### â“**No futuro, queremos acionar outros consumidores? Qual o plano para fan-out ou mÃºltiplos workers assinando o mesmo tÃ³pico?**
- Talvez usar **Cloud Tasks** em paralelo para controle fino.
- Avaliar como fan-out afeta a escalabilidade e concorrÃªncia.

---

## â˜ï¸ **10. Alternativas ao Pub/Sub**

### â“**Pub/Sub Ã© a melhor escolha para esse tipo de evento, ou deverÃ­amos avaliar alternativas como Kafka, RabbitMQ ou Azure Service Bus?**
- Google Pub/Sub Ã© excelente para eventos globais, alta escalabilidade e acoplamento fraco.
- Mas e se precisarmos de fila com ordenaÃ§Ã£o garantida? Kafka pode ser melhor.

---

Essas dÃºvidas sÃ£o Ã³timas para provocar reflexÃ£o estratÃ©gica. Se quiser, posso te ajudar a montar uma **apresentaÃ§Ã£o resumida** para a reuniÃ£o com os tÃ³picos acima organizados como **slides ou pautas de reuniÃ£o**. Te interessa?